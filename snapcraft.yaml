name: ubuntu-iso-download
summary: Download the latest Ubuntu ISOs
description: |
    This is used to download Ubuntu ISOs and verify the download. The
    SHA256 hash of the ISO is downloaded and the signed GPG file used
    to verify that the file is valid. Once downloaded, the hash of the
    ISO is compared to the expected value and either confirmed or the
    file is deleted.

version: git
grade: stable
confinement: strict
environment:
    LC_ALL: C.UTF-8
    LANG: C.UTF-8

apps:
    ubuntu-iso-download:
        command: bin/ubuntu-iso-download
        plugs:
            - network
            - network-bind
            - home

parts:
    ubuntu-iso-download:
        plugin: python
        source: https://github.com/powersj/ubuntu-iso-download
        source-type: git
    gpg:
        plugin: nil
        stage-packages:
            - gnupg
        stage:
            - usr/bin/gpg
